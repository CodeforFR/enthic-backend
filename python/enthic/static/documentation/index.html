<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>French societies accountability extraction and treatment by PapIT &#8212; enthic 0.1 documentation</title>
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#"><span><img src="_static/papit.png"></span>
          enthic</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="https://www.papit.fr">PapIT</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Enthic by PapIT <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#"><strong>French societies accountability extraction and treatment by PapIT</strong></a><ul>
<li><a class="reference internal" href="#install-dependencies-and-python-package"><strong>Install dependencies and python package</strong></a></li>
<li><a class="reference internal" href="#run-an-instance"><strong>Run an instance</strong></a></li>
<li><a class="reference internal" href="#extract-data-from-zip">Extract data from zip</a></li>
<li><a class="reference internal" href="#check-the-xml-format">Check the XML format</a></li>
<li><a class="reference internal" href="#format-xml">Format XML</a></li>
<li><a class="reference internal" href="#create-mysql-database">Create MySQL database</a></li>
<li><a class="reference internal" href="#run-api">Run API</a></li>
<li><a class="reference internal" href="#development-and-contribution"><strong>Development and contribution</strong></a></li>
<li><a class="reference internal" href="#development-and-coding-rules">Development and Coding Rules</a></li>
<li><a class="reference internal" href="#build-and-install-python-enthic-package">Build and install python enthic package</a></li>
<li><a class="reference internal" href="#testing">Testing</a></li>
<li><a class="reference internal" href="#generate-documentation">Generate documentation</a></li>
<li><a class="reference internal" href="#library-structure">Library structure</a></li>
<li><a class="reference internal" href="#donation">Donation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
<li><a class="reference internal" href="#documentation-of-the-python-code"><strong>Documentation of the Python Code</strong></a></li>
<li><a class="reference internal" href="#module-enthic.extract_bundle">Extract bundle</a><ul>
<li><a class="reference internal" href="#parse-all-the-xml-available-to-list-all-the-bundle-code">Parse all the XML available to list all the bundle code</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-enthic.sum_bundle">Sum bundle</a><ul>
<li><a class="reference internal" href="#sum-all-the-bundle-of-the-year-for-one-company-from-a-csv-sorted-file">Sum all the bundle of the year for one company from a CSV sorted file</a></li>
</ul>
</li>
<li><a class="reference internal" href="#flask-api-server">Flask API server</a></li>
<li><a class="reference internal" href="#module-enthic.decorator.check_sql_injection">Flask JSON response</a><ul>
<li><a class="reference internal" href="#decorator-checking-sql-injection-in-requests">Decorator checking SQL injection in requests</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id1">Flask JSON response</a></li>
<li><a class="reference internal" href="#module-enthic.utils.ok_json_response">Flask OK JSON response</a></li>
<li><a class="reference internal" href="#module-enthic.utils.error_json_response">Flask error JSON response</a></li>
<li><a class="reference internal" href="#module-enthic.utils.sql_json_response">Flask SQL JSON response</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="_sources/index.rst.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <div class="section" id="french-societies-accountability-extraction-and-treatment-by-papit">
<h1><strong>French societies accountability extraction and treatment by PapIT</strong><a class="headerlink" href="#french-societies-accountability-extraction-and-treatment-by-papit" title="Permalink to this headline">¶</a></h1>
<p>Project than treat data from opendata-rncs.inpi.fr. They contain xml
files of the account declaration of all french societies. The overall project
is meant to be low-code and open source. Aim to provide ethical indicators on companies.
Information media is a MySQL database, CSV files, web visualisation and a
swagger API. Score and indicators are calculated by batch using fancy libraries.
Scoring, AI, data scrapping for segmentation. Shell and python are to launch be
from their corresponding directory <code class="docutils literal notranslate"><span class="pre">./sh</span></code> and <code class="docutils literal notranslate"><span class="pre">./py</span></code>.</p>
<div class="section" id="install-dependencies-and-python-package">
<h2><strong>Install dependencies and python package</strong><a class="headerlink" href="#install-dependencies-and-python-package" title="Permalink to this headline">¶</a></h2>
<p>Synaptic packages have to be installed <code class="docutils literal notranslate"><span class="pre">zip</span> <span class="pre">libxml2-utils</span> <span class="pre">mysql-server</span> <span class="pre">tree</span> <span class="pre">python3</span></code>.
Pip packages as well has to be installed for development purpose.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sh ./install-dependencies.sh
</pre></div>
</div>
<p>To install the enthic python package only.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sh ./install-wheel.sh
</pre></div>
</div>
</div>
<div class="section" id="run-an-instance">
<h2><strong>Run an instance</strong><a class="headerlink" href="#run-an-instance" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="extract-data-from-zip">
<h2>Extract data from zip<a class="headerlink" href="#extract-data-from-zip" title="Permalink to this headline">¶</a></h2>
<p>Data are stored in zip files on opendata-rncs.inpi.fr, group by month. Each XML
is in a zip. The first step is then to extract the XML files.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sh ./clear-data.sh
</pre></div>
</div>
</div>
<div class="section" id="check-the-xml-format">
<h2>Check the XML format<a class="headerlink" href="#check-the-xml-format" title="Permalink to this headline">¶</a></h2>
<p>An XSD is provided by the INPI. This step verify all the XML are following this
XSD. XML not following this XSD have their filename printed out.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sh ./check-data.sh
</pre></div>
</div>
</div>
<div class="section" id="format-xml">
<h2>Format XML<a class="headerlink" href="#format-xml" title="Permalink to this headline">¶</a></h2>
<p>Create two CSV based on XML. One for each table, the identity and the bundles of
the company.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sh ./xml-csv.sh
</pre></div>
</div>
</div>
<div class="section" id="create-mysql-database">
<h2>Create MySQL database<a class="headerlink" href="#create-mysql-database" title="Permalink to this headline">¶</a></h2>
<p>Create database, tables and indexes. The content of the two tables come from the
previous CSV files.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sh ./database-creation.sh
</pre></div>
</div>
</div>
<div class="section" id="run-api">
<h2>Run API<a class="headerlink" href="#run-api" title="Permalink to this headline">¶</a></h2>
<p>A flask REST API can distribute data over the web. Following Swagger standard.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ python3 ./app.py
</pre></div>
</div>
</div>
<div class="section" id="development-and-contribution">
<h2><strong>Development and contribution</strong><a class="headerlink" href="#development-and-contribution" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="development-and-coding-rules">
<h2>Development and Coding Rules<a class="headerlink" href="#development-and-coding-rules" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>snake_case for variables, defintion and CamelCase for classes.</li>
<li>Only argument is configuration file for python.</li>
<li>No output or print information (just raw results authorized), just log and files.</li>
<li>Sonar Qube integration.</li>
<li>Pytest python and API testing.</li>
<li>Autodocumentation using Sphinx 1.8.5.</li>
<li>Benchmark of CPython VS Pypy.</li>
<li>Common sens and clean code.</li>
</ul>
</div>
<div class="section" id="build-and-install-python-enthic-package">
<h2>Build and install python enthic package<a class="headerlink" href="#build-and-install-python-enthic-package" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sh ./install-wheel.sh
</pre></div>
</div>
</div>
<div class="section" id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h2>
<p>Only python package is tested. Used test framework is pytest. Tests can be run
via <code class="docutils literal notranslate"><span class="pre">pytest</span></code> in the <code class="docutils literal notranslate"><span class="pre">python/enthic/</span></code> directory.</p>
</div>
<div class="section" id="generate-documentation">
<h2>Generate documentation<a class="headerlink" href="#generate-documentation" title="Permalink to this headline">¶</a></h2>
<p>Generate HTML documentation via Sphinx documentation framework.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sh ./documentation.sh
</pre></div>
</div>
</div>
<div class="section" id="library-structure">
<h2>Library structure<a class="headerlink" href="#library-structure" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>.
│
├── configuration.json
├── bilans-saisis-v1.1.xsd
├── sonar-project.properties
├── README.rst
├── account-ontology.csv
├── .gitignore
│
├── python
│   ├── <span class="nb">source</span>
│   │   ├── conf.py
│   │   ├── index.rst
│   │   └── papit.png
│   │
│   ├── decorator
│   │   ├── check_sql_injection.py
│   │   └── insert_request.py
│   │
│   ├── enthic
│   │   ├── app.py
│   │   ├── conftest.py
│   │   ├── extract_bundle.py
│   │   ├── __init__.py
│   │   ├── sum_bundle.py
│   │   ├── test_extract_bundle.py
│   │   ├── test_app.py
│   │   ├── test_sum_bundle.py
│   │   └── utils
│   │       ├── configuration.py
│   │       ├── json_response.py
│   │       ├── error_json_response.py
│   │       ├── ok_json_response.py
│   │       ├── sql_json_response.py
│   │       └── __init__.py
│   │
│   ├── static
│   │   ├── <span class="m">404</span>.html
│   │   ├── <span class="m">500</span>.html
│   │   ├── bootstrap.min.css
│   │   ├── favicon.png
│   │   ├── index.html
│   │   ├── jquery.min.js
│   │   ├── swagger.json
│   │   ├── swagger-ui-bundle.js
│   │   ├── swagger-ui-bundle.js.map
│   │   ├── swagger-ui.css
│   │   ├── swagger-ui.css.map
│   │   ├── swagger-ui.js
│   │   ├── swagger-ui.js.map
│   │   ├── swagger-ui-standalone-preset.js
│   │   └── swagger-ui-standalone-preset.js.map
│   │
│   ├── setup.py
│   └── Makefile
│
├── sql
│   ├── create-database-enthic.sql
│   ├── create-index-bundle.sql
│   ├── create-index-identity.sql
│   ├── create-table-bundle.sql
│   ├── create-table-identity.sql
│   ├── insert-bundle.sql
│   └── insert-identity.sql
│
├── sh
│   ├── check-data.sh
│   ├── clear-data.sh
│   ├── database-creation.sh
│   ├── documentation.sh
│   ├── install-dependencies.sh
│   ├── install-wheel.sh
│   └── xml-csv.sh
│
├── input
│   └── qualification
│       └──...
│
└── output
</pre></div>
</div>
</div>
<div class="section" id="donation">
<h2>Donation<a class="headerlink" href="#donation" title="Permalink to this headline">¶</a></h2>
<p>You can donate to support Python and Open Source development.</p>
<p><strong>BTC</strong> <code class="docutils literal notranslate"><span class="pre">32JSkGXcBK2dirP6U4vCx9YHHjV5iSYb1G</span></code></p>
<p><strong>ETH</strong> <code class="docutils literal notranslate"><span class="pre">0xF556505d13aC9a820116d43c29dc61417d3aB2F8</span></code></p>
<div class="toctree-wrapper compound">
</div>
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></li>
</ul>
</div>
<div class="section" id="documentation-of-the-python-code">
<h1><strong>Documentation of the Python Code</strong><a class="headerlink" href="#documentation-of-the-python-code" title="Permalink to this headline">¶</a></h1>
<p>Those two python scripts are used in shell <code class="docutils literal notranslate"><span class="pre">script</span> <span class="pre">xml-csv.sh</span></code>.</p>
<div class="toctree-wrapper compound">
</div>
</div>
<div class="section" id="module-enthic.extract_bundle">
<span id="extract-bundle"></span><h1>Extract bundle<a class="headerlink" href="#module-enthic.extract_bundle" title="Permalink to this headline">¶</a></h1>
<div class="section" id="parse-all-the-xml-available-to-list-all-the-bundle-code">
<h2>Parse all the XML available to list all the bundle code<a class="headerlink" href="#parse-all-the-xml-available-to-list-all-the-bundle-code" title="Permalink to this headline">¶</a></h2>
<p>PROGRAM BY PAPIT SASU, 2019</p>
<p>Coding Rules:</p>
<ul class="simple">
<li>Snake case for variables.</li>
<li>Only argument is configuration file.</li>
<li>No output or print, just log and files.</li>
</ul>
<dl class="function">
<dt id="enthic.extract_bundle.main">
<code class="descclassname">enthic.extract_bundle.</code><code class="descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/enthic/extract_bundle.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#enthic.extract_bundle.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Based on the configuration storing the input file path. All the xml are
read to list the bundle code.</p>
</dd></dl>

</div>
</div>
<div class="section" id="module-enthic.sum_bundle">
<span id="sum-bundle"></span><h1>Sum bundle<a class="headerlink" href="#module-enthic.sum_bundle" title="Permalink to this headline">¶</a></h1>
<div class="section" id="sum-all-the-bundle-of-the-year-for-one-company-from-a-csv-sorted-file">
<h2>Sum all the bundle of the year for one company from a CSV sorted file<a class="headerlink" href="#sum-all-the-bundle-of-the-year-for-one-company-from-a-csv-sorted-file" title="Permalink to this headline">¶</a></h2>
<p>PROGRAM BY PAPIT SASU, 2019</p>
<p>Coding Rules:</p>
<ul class="simple">
<li>Snake case for variables.</li>
<li>Only argument is configuration file.</li>
<li>No output or print, just log and files.</li>
</ul>
<dl class="function">
<dt id="enthic.sum_bundle.main">
<code class="descclassname">enthic.sum_bundle.</code><code class="descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/enthic/sum_bundle.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#enthic.sum_bundle.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Based on the configuration storing the input file path. Sum all the bundle
of the year for one company.</p>
</dd></dl>

</div>
</div>
<div class="section" id="flask-api-server">
<h1>Flask API server<a class="headerlink" href="#flask-api-server" title="Permalink to this headline">¶</a></h1>
<p>Following module relates to Flask server.</p>
<span class="target" id="module-enthic.app"></span><dl class="function">
<dt id="enthic.app.company_denomination">
<code class="descclassname">enthic.app.</code><code class="descname">company_denomination</code><span class="sig-paren">(</span><em>denomination</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/enthic/app.html#company_denomination"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#enthic.app.company_denomination" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Retrieve company information by company denomination. Path is</dt>
<dd>/company/denomination/&lt;denomination&gt; GET method only and no strict slash.
:param denomination: String, denomination of the company.
:return: HTTP Response as application/json. Contain all known information.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="enthic.app.company_denomination_year">
<code class="descclassname">enthic.app.</code><code class="descname">company_denomination_year</code><span class="sig-paren">(</span><em>denomination</em>, <em>year</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/enthic/app.html#company_denomination_year"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#enthic.app.company_denomination_year" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Retrieve company information for a given year by company denomination. Path</dt>
<dd>is /company/denomination/&lt;denomination&gt; GET method only and no strict slash.
:param denomination: String, denomination of the company.
:param year: Year of results to return, default is None.
:return: HTTP Response as application/json. Contain all known information.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="enthic.app.company_siren">
<code class="descclassname">enthic.app.</code><code class="descname">company_siren</code><span class="sig-paren">(</span><em>siren</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/enthic/app.html#company_siren"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#enthic.app.company_siren" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Retrieve company information by SIREN. Path is /company/siren/&lt;siren&gt; GET</dt>
<dd><p class="first">method only and no strict slash.
:param siren: SIREN identification, must be an 9 character long,</p>
<blockquote>
<div>numeric only.</div></blockquote>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">return:</th><td class="field-body">HTTP Response as application/json. Contain all known information
on that company of an error message if SIREN wrongly formatted.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="enthic.app.company_siren_year">
<code class="descclassname">enthic.app.</code><code class="descname">company_siren_year</code><span class="sig-paren">(</span><em>siren</em>, <em>year</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/enthic/app.html#company_siren_year"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#enthic.app.company_siren_year" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Retrieve company information by SIREN for a given year. Path is</dt>
<dd><p class="first">/company/siren/&lt;siren&gt; GET method only and no strict slash.
:param siren: SIREN identification, must be an 9 character long,</p>
<blockquote>
<div>numeric only.</div></blockquote>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param year:</th><td class="field-body">Year of results to return, default is None.</td>
</tr>
<tr class="field-even field"><th class="field-name">return:</th><td class="field-body">HTTP Response as application/json. Contain all known information
on that company of an error message if SIREN or YEAR wrongly formatted.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="enthic.app.index">
<code class="descclassname">enthic.app.</code><code class="descname">index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/enthic/app.html#index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#enthic.app.index" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Serve the index.html at the base path.</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">return:</th><td class="field-body">The static index.html and a return code 200.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="enthic.app.main">
<code class="descclassname">enthic.app.</code><code class="descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/enthic/app.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#enthic.app.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Start app, after configuration.</p>
</dd></dl>

<dl class="function">
<dt id="enthic.app.ontology">
<code class="descclassname">enthic.app.</code><code class="descname">ontology</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/enthic/app.html#ontology"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#enthic.app.ontology" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Return the ontology used to extract accountability data.</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">return:</th><td class="field-body">HTTP Response as application/json. the ontology as JSON.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="enthic.app.page_not_found">
<code class="descclassname">enthic.app.</code><code class="descname">page_not_found</code><span class="sig-paren">(</span><em>error</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/enthic/app.html#page_not_found"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#enthic.app.page_not_found" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Page not found and logging.</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param error:</th><td class="field-body">Error message to be logged.</td>
</tr>
<tr class="field-even field"><th class="field-name">return:</th><td class="field-body">The HTML 404 page.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="enthic.app.search">
<code class="descclassname">enthic.app.</code><code class="descname">search</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/enthic/app.html#search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#enthic.app.search" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Search companies by SIREN or denomination. Limited to 1000 results. Path is</dt>
<dd><p class="first">/company/search POST method only and no strict slash. A JSON Body is to
be post with the keys probe and limit. Key probe is the string to search,
limit is an integer, the maximum number of results to return.
:return: HTTP Response as application/json. Contain all known information</p>
<blockquote class="last">
<div>on that company of an error message if SIREN wrongly formatted.</div></blockquote>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="enthic.app.server_error">
<code class="descclassname">enthic.app.</code><code class="descname">server_error</code><span class="sig-paren">(</span><em>error</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/enthic/app.html#server_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#enthic.app.server_error" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Server error page and logging.</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param error:</th><td class="field-body">Error message to be logged.</td>
</tr>
<tr class="field-even field"><th class="field-name">return:</th><td class="field-body">The HTML 500 page.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="enthic.app.static_proxy">
<code class="descclassname">enthic.app.</code><code class="descname">static_proxy</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/enthic/app.html#static_proxy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#enthic.app.static_proxy" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Serve the static files, like the Swagger definition page and the 404.</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param path:</th><td class="field-body">/ Base path of the host.</td>
</tr>
<tr class="field-even field"><th class="field-name">return:</th><td class="field-body">The resource present at the path.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-enthic.decorator.check_sql_injection">
<span id="flask-json-response"></span><h1>Flask JSON response<a class="headerlink" href="#module-enthic.decorator.check_sql_injection" title="Permalink to this headline">¶</a></h1>
<div class="section" id="decorator-checking-sql-injection-in-requests">
<h2>Decorator checking SQL injection in requests<a class="headerlink" href="#decorator-checking-sql-injection-in-requests" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="enthic.decorator.check_sql_injection.check_sql_injection">
<code class="descclassname">enthic.decorator.check_sql_injection.</code><code class="descname">check_sql_injection</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/enthic/decorator/check_sql_injection.html#check_sql_injection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#enthic.decorator.check_sql_injection.check_sql_injection" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Decorator checking SQL injection.</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param func:</th><td class="field-body">Function decorated.</td>
</tr>
<tr class="field-even field"><th class="field-name">return:</th><td class="field-body">The function decorated.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

</div>
</div>
<div class="section" id="id1">
<h1>Flask JSON response<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-enthic.utils.json_response"></span><dl class="class">
<dt id="enthic.utils.json_response.JSONResponse">
<em class="property">class </em><code class="descclassname">enthic.utils.json_response.</code><code class="descname">JSONResponse</code><span class="sig-paren">(</span><em>object_response</em>, <em>status=200</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/enthic/utils/json_response.html#JSONResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#enthic.utils.json_response.JSONResponse" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Abstraction on top of the flask Response class, as most Response will be</dt>
<dd>application/json and HTTP default return code 200, but can be changed.</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-enthic.utils.ok_json_response">
<span id="flask-ok-json-response"></span><h1>Flask OK JSON response<a class="headerlink" href="#module-enthic.utils.ok_json_response" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="enthic.utils.ok_json_response.OKJSONResponse">
<em class="property">class </em><code class="descclassname">enthic.utils.ok_json_response.</code><code class="descname">OKJSONResponse</code><span class="sig-paren">(</span><em>object_response</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/enthic/utils/ok_json_response.html#OKJSONResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#enthic.utils.ok_json_response.OKJSONResponse" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Abstraction on top of the Enthic JSONResponse class, as most Response will be</dt>
<dd>application/json and HTTP return code 200.</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-enthic.utils.error_json_response">
<span id="flask-error-json-response"></span><h1>Flask error JSON response<a class="headerlink" href="#module-enthic.utils.error_json_response" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="enthic.utils.error_json_response.ErrorJSONResponse">
<em class="property">class </em><code class="descclassname">enthic.utils.error_json_response.</code><code class="descname">ErrorJSONResponse</code><span class="sig-paren">(</span><em>error_message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/enthic/utils/error_json_response.html#ErrorJSONResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#enthic.utils.error_json_response.ErrorJSONResponse" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Abstraction on top of the flask JSON Response class, for error JSON,</dt>
<dd>application/json and HTTP return code 400.</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-enthic.utils.sql_json_response">
<span id="flask-sql-json-response"></span><h1>Flask SQL JSON response<a class="headerlink" href="#module-enthic.utils.sql_json_response" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="enthic.utils.sql_json_response.SQLJSONResponse">
<em class="property">class </em><code class="descclassname">enthic.utils.sql_json_response.</code><code class="descname">SQLJSONResponse</code><span class="sig-paren">(</span><em>my_sql_db</em>, <em>sql_request</em>, <em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/enthic/utils/sql_json_response.html#SQLJSONResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#enthic.utils.sql_json_response.SQLJSONResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>SQL result turn into JSON response via OKJSONResponse class.</p>
</dd></dl>

<dl class="exception">
<dt id="enthic.utils.sql_json_response.SQLJSONResponseException">
<em class="property">exception </em><code class="descclassname">enthic.utils.sql_json_response.</code><code class="descname">SQLJSONResponseException</code><a class="reference internal" href="_modules/enthic/utils/sql_json_response.html#SQLJSONResponseException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#enthic.utils.sql_json_response.SQLJSONResponseException" title="Permalink to this definition">¶</a></dt>
<dd><p>Specific exception to SQLJSONResponse.</p>
</dd></dl>

</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2019, Christophe Brun, PapIT.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.<br/>
    </p>
  </div>
</footer>
  </body>
</html>